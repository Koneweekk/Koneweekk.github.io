---
title: JAVA - 시작하기
date: 2024-02-27 15:20:00 +09:00
categories: [프로그래밍 언어, Java]
tags:
  [
    프로그래밍 언어,
    Java,
    설치,
    JVM
  ]
---

## Ⅰ. Java 설치하기

자바 프로그램 개발과 실행을 위해서 JDK(Java Development Kit)의 설치가 필요하다.

### ⅰ. Open JDK와 Oracle JDK
JDK 설치에는 두 가지 선택지가 있다.

|구분|Open JDK|Oracle JDK|
|---|---|---|
|라이선스|GNU GPL version2|Oracle Technology Network License|
|사용료|무료|사업용인 경우 유료|
|링크|[https://adoptium.net/](https://adoptium.net/)|[https://www.oracle.com/kr/java/technologies/downloads/](https://www.oracle.com/kr/java/technologies/downloads/)|

Oracle JDK가 Open JDK보다 응답성과 JVM 성능이 뛰어나다.  
그러므로 성능을 중시한다면 Oracle JDK를,  
비용을 고려한다면 Open JDK를 선택하는 것이 좋다.

<hr>

### ⅱ. 버전 선택

JDK LTS(Long Term Support)버전은 장기간 기술 지원을 받을 수 있어 안정적인 사용이 가능하다.  

JDK 8, 11, 17이 이에 속하며, 이 버전들로 개발 및 실행하는 것이 좋다.  

원하는 버전을 다운받아 컴퓨터에 설치해주면 된다.

<hr>

### ⅲ. 환경변수 등록

#### 1.  `JAVA_HOME` 등록

JDK를 설치하고 나면 프로그램들이 JDK를 이용할 수 있도록 환경 변수를 등록해줘야한다.

우선 자바가 설치된 경로를 `JAVA_HOME`이란 변수에 입력해주어야한다.

<img src="/assets/img/post/language/java/01_start/01.png" width="50%" title="01" alt="01"/>  

<img src="/assets/img/post/language/java/01_start/02.png" width="50%" title="02" alt="02"/>  

<img src="/assets/img/post/language/java/01_start/03.png" width="50%" title="03" alt="03"/> 

#### 2. `bin` 디렉토리 등록

Java가 설치된 경로를 살펴보면 `bin`이란 디렉토리가 있다.  
이 디렉토리 안에는 `javac.exe`(자바 소스 파일 컴파일)과 `java.exe`(자바 프로그램 실행)이 있다.  

위 두 파일을 어떤 위치에서도 사용할 수 있도록 `Path` 환경변수에 추가해야한다.  

<img src="/assets/img/post/language/java/01_start/04.png" width="50%" title="03" alt="04"/> 

<img src="/assets/img/post/language/java/01_start/05.png" width="50%" title="03" alt="05"/> 

#### 3. 환경변수 등록 확인

명령프롬프트, 파워쉘을 켜고 다음 명령어들을 입력하여 환경 변수가 올바르게 설정되었는지 확인하자.

```
C:\...>javac -version
javac 17.0.10
```

```
C:\...>java -version
openjdk version "17.0.10" 2024-01-16
OpenJDK Runtime Environment Temurin-17.0.10+7 (build 17.0.10+7)
OpenJDK 64-Bit Server VM Temurin-17.0.10+7 (build 17.0.10+7, mixed mode, sharing)
```

위 처럼 뜬다면 정상적으로 환경변수가 등록된 것이다.

<hr><br>

## Ⅱ. Java의 기본 실행 과정

### ⅰ. `.java`

`.java`은 자바 소스 파일의 확장자명이다.  
텍스트파일이므로 어떤 텍스트 에디터도 작성 가능하다.

```java
// Hello.java

class Hello {
  public static void main(String[] args) {
    System.out.prinln("Hello world");
  }
}
```

<hr>

### ⅱ. `.class`

`javac` 명령어는 소스 파일을 컴파일 하는데,  
이 경우 `.class` 확장자를 가진 파일이 생성된다.

이 파일이 <u>바이트코드 파일</u>로  
mac, window, linux 모두 동일한 소스 파일이면 동일한 바이트코드 파일이 생성된다.

<hr>

### ⅲ. JVM

> `.class` 파일을 완벽한 기계어로 번역하고 실행시키는 자바가상머신

`java`란 명령어로 JDK와 함께 설치된 JVM을 구동시켜 `.class` 파일을 실행시킨다.  

바이트코드 파일과 달리 자바 가상 머신은 운영체제마다 다르다.  
각 운영체제별로 이해하는 기계어로 번역해야하기 때문이다.  
그래서 운영체제별로 설치하는 JDK가 다르다.

![자바구동원리](https://blog.kakaocdn.net/dn/tmLpv/btrrQsh23RM/VyS1jhoUtcszuemDz6dZH1/img.jpg)

<hr><br>

## Ⅲ. JVM의 기본 구조

### ⅰ. JVM의 구조

![JVM](https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2FcQRqku%2Fbtru0vJ6Ixx%2F9qCTW7ChXc80fGfQUrT4B0%2Fimg.png)

#### 1. Class Loader

필요한 클래스 파일을 로드하여 Runtime Data Area에 적재한다.
클래스 파일을 동적으로 로드하여 실행 시점에 필요한 클래스를 사용할 수 있도록 한다.

#### 2. Runtime Data Area

JVM은 메모리를 여러 영역으로 나누어 관리한다.

- Method Area : 클래스 정보, 상수, 정적 변수 등이 저장
- Heap : 객체 인스턴스가 저장되는 공간으로, 가비지 컬렉션에 의해 관리됨
- Stack : 메소드 호출과 관련된 데이터(로컬 변수, 메소드 호출 및 리턴 값 등)가 저장
- Program Counter Register: 현재 실행 중인 스레드의 실행 위치를 저장
- Native Method Stack : 자바 이외의 언어로 작성된 네이티브 코드를 실행할 때 사용
#### 3. Execution Engine

바이트 코드를 실제로 실행한다.

보통 인터프리터와 JIT 컴파일러의 조합으로 구성됩니다.
- 인터프리터 : 바이트 코드를 한 줄씩 읽어 실행합니다.
- JIT(Just-In-Time) 컴파일러 : 인터프리터가 반복되는 코드를 컴파일하여 네이티브 코드로 변환하여 실행 속도를 향상시킵니다.

<hr>

### ⅱ. JVM의 동작 방식

JVM의 실행순서는 다음과 같습니다.

1. 클래스 로더를 통해 필요한 클래스 파일들을 메모리에 로드.

2. 클래스 파일들은 검증 단계를 거쳐 올바른 형식인지 확인. 이는 자바 프로그램의 안전성을 보장하기 위한 중요한 단계.

3. 클래스의 정적 변수를 위한 메모리 공간을 할당하고 기본값으로 초기화.

4. 스레드를 생성하고, 스레드가 시작되면 해당 스레드가 작성된 바이트 코드를 해석하고 실행

5. 프로그램 실행이 완료되면 더 이상 필요하지 않은 클래스들은 메모리에서 제거

<hr><br>

## 참고자료

- [https://devpad.tistory.com/56](https://devpad.tistory.com/56)
- [https://coding-factory.tistory.com/828](https://coding-factory.tistory.com/828)