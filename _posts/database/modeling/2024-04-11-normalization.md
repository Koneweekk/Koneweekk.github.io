---
title: DB - 정규화(Normalization)
date: 2024-04-11 16:00:00 +09:00
categories: [DB, Modeling]
tags:
  [
    DB,
    Data,
    Datebase,
    Modeling,
    ERD,
    Normalization
  ]
---

## Ⅰ. 정규화란?

>

### 1. 정규화를 하는 이유

- 데이터의 중복을 방지하고 보다 효율적으로 데이터를 저장하기 위함
- 속성들을 본래의 테이블에 정확히 위치시키고자 함이다.

<hr>

### 2. 정규화의 종류

제 1 정규화
- 모든 테이블이 원자적인 값으로 이루어져 있어야 함
- 각 열은 하나의 값을 가져야 한다
- 중복된 열이나 그룹이 없어야 한다

제 2 정규화
- 모든 비주요 속성이 주요 속성에 대해 완전 함수적 종속이어야 한다.
- 즉, 모든 열이 주요 키에 완전히 종속되어야 한다.

제 3 정규화
- 모든 비주요 속성이 후보 키에 대해 이행적으로 종속되지 않아야 한다.
- 즉, 모든 열이 후보 키에 직접 종속되어야 합니다.

<hr><br>

## Ⅱ. 제 1 정규화

중복 속성 제거(분산)를 하는 과정으로
결과로 1:N 관계가 형성된다.

아래 예시를 보면 하나의 행에 두 가지 구입 정보가 들어있다.

|구매자|나이|주문 물건|수량|가격|
|---|---|---|---|---|
|김한주|28|과자<br>콜라|2<br>3|2000<br>3000|

이를 아래처럼 다른 행으로 나누는 것이 제 1 정규화이다.

|구매자|나이|주문 물건|수량|가격|
|---|---|---|---|---|
|김한주|28|과자|2|2000|
|김한주|28|콜라|3|3000|

<hr><br>

## Ⅲ. 제 2 정규화

복합 식별자 일부에 의존적인 속성이 존재하면 이를 제거(분리)

나이와 이름은는 구매자ID에, 가격과 주문 물건은 물건ID에, 수량은 주문ID에 종속되어 있다.

|주문ID|구매자ID|이름|나이|물건ID|주문 물건|수량|가격|
|---|---|---|---|---|---|---|---|
|1|1|김한주|28|1|과자|2|2000|
|2|1|김한주|28|2|콜라|3|3000|
|3|2|박한주|29|1|과자|3|2000|

이를 분리하면 다음과 같다.

|회원ID|회원|나이|
|---|---|---|
|1|김한주|28|
|2|박한주|28|

|물건ID|물건|가격|
|---|---|---|
|1|과자|2000|
|2|콜라|3000|

|주문ID|회원ID|물건ID|수량|
|---|---|---|---|
|1|1|1|2|
|2|1|2|3|
|3|2|1|3|

<hr><br>

### Ⅳ. 제 3 정규화

> 이행적 함수 종속 : A -> B 종속, B -> C 종속, A -> C 종속인 관계

이행적 함수 종속성을 제거하는 과정

만약 고객정보에 구매등급이 추가된다면 테이블은 다음과 같을 것이다.  
이 때 할인율은 구매등급에 종속되고, 구매등급은 또 회원ID에 간접적으로 종속된다.

|주문ID|구매자ID|이름|나이|물건ID|주문 물건|수량|가격|구매등급|할인율|
|---|---|---|---|---|---|---|---|---|---|
|1|1|김한주|28|1|과자|2|2000|VIP|20|
|2|1|김한주|28|2|콜라|3|3000|VIP|0|
|3|2|박한주|29|1|과자|3|2000|NORMAL|20|

이를 분리하면 다음과 같다.

|회원ID|회원|나이|구매등급|
|---|---|---|---|
|1|김한주|28|VIP|
|2|박한주|28|NORMAL|

|구매등급|할인율|
|---|---|
|VIP|20|
|NORMAL|0|

|물건ID|물건|가격|
|---|---|---|
|1|과자|2000|
|2|콜라|3000|

|주문ID|회원ID|물건ID|수량|
|---|---|---|---|
|1|1|1|2|
|2|1|2|3|
|3|2|1|3|